<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>파이 차트</title>
  <style>
    body {
      background: rgba(0,0,16,0.05);
    }
    canvas {
      width: 256px;
      height: 256px;
      margin: 32px 0 0 32px;
      background: white;
      box-shadow: 4px 4px 16px rgba(0,0,0,0.2);
    }
  </style>
  <script src="script.js"></script>
</head>
<body>
  <script>
        
    // Pie test
    const body = document.querySelector('body')
    const chartCanvases = []

    // Generate chart with minimum params
    // 1. values
    // 2. color( you can skip color but just showing white circle. )
    // 3. canvas
    // then canvas.draw()
    let c = newCanvas()
    chartCanvases.push(c)
    generatePieChart({
        values: [
            {'Abc': 3 },
            {'Def': 37 }
        ],
        color: '#FFF',
        canvas: c
    })

    // Common usage
    c = newCanvas()
    chartCanvases.push(c)
    generatePieChart({
        values: [
            {Incheon: 17},
            {Busan: 11},
            {Jinju: 7},
            {Seoul: 5},
            {Jeju: {value:2, color:'#f18101'}},
            {Changwon: 1}
        ],
        canvas: c,
        color:  {from:'#151933', to:'#c3d5da'},
        radius: 120,
        font:   {size:20},
        showPercentage: true
    })

    // donut and doughnut both are can use. ture or number of radius
    c = newCanvas()
    chartCanvases.push(c)
    generatePieChart({
        values: [
            {'Region A': { color: '#105a67', value: 3.6 }},
            {'Region B': { color: '#3ca8bb', value: 37.6 }},
            {'Other'   : { color: '#ededed', value: 58.8 }}
        ],
        donut: true,
        canvas: c
    })
    
    // Draw each canvas
    chartCanvases.forEach( c => c.draw() )

    function newCanvas() {
        const canvas = new Canvas()
        body.append( canvas.self )
        let canvasSize = canvas.self.getBoundingClientRect()
        let w = canvasSize.width, 
            h = canvasSize.height
        canvas.setSize(w, h)
        return canvas
    }

</script>
</body>
</html>